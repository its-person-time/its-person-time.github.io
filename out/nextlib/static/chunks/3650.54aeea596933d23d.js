(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3650,8575,3920],{3621:function(e,n,t){"use strict";t.r(n),t.d(n,{BlockchainContext:function(){return m},TokenStatus:function(){return r},useBlockchainContext:function(){return k}});var r,c=t(7568),o=t(828),a=t(4051),i=t.n(a),s=t(5893),u=t(7294),f=t(241),l=t(6076),h=t(7948),d=t(333),x=t(3920),C=t(3454);!function(e){e.Burned="BURN",e.Minted="MINT",e.Waiting="WAIT"}(r||(r={}));var p={metamask:void 0,contractConnection:void 0,getWriteConnection:function(){},clearWriteConnection:function(){},signer:void 0,chainId:"0x0",latestBlockNum:0,loadSigner:function(){},changeChainManually:function(e){},tokenInfo:new Map,setTokenInfo:function(e){},isOwner:!1,isSubscriber:!1},v=u.createContext(p),k=function(){return u.useContext(v)},m=function(e){var n=e.child,t=window&&window.ethereum,r=(0,o.Z)(u.useState(),2),a=r[0],p=r[1],k=(0,o.Z)(u.useState(),2),m=k[0],b=k[1],w=(0,o.Z)(u.useState(),2),A=w[0],_=w[1],g=(0,o.Z)(u.useState("0x0"),2),S=g[0],E=g[1],N=(0,o.Z)(u.useState(0),2),T=N[0],I=N[1],P=(0,o.Z)(u.useState(new Map),2),O=P[0],j=P[1],R=(0,o.Z)(u.useState(!1),2),Z=R[0],y=R[1],M=(0,o.Z)(u.useState(!1),2),D=M[0];M[1];t&&t.on("chainChanged",(function(e){window&&window.location.reload()})),t&&t.on("accountsChanged",(function(e){e[0]!==A&&(A||m)&&Y()}));var B=function(){var e=(0,c.Z)(i().mark((function e(){var n,r,c,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&x.SUPPORTED_CHAINS.includes(S)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n=x.CONTRACT_INFO[S],r=new f.Q(t),c=r.getSigner(),o=new l.CH(n.address,n.abi,c),b(o),_(c._address),e.abrupt("return",o);case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,c.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=m,e.t0){e.next=5;break}return e.next=4,B();case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,c.Z)(i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request({method:"eth_requestAccounts"});case 2:(n=e.sent).length>0&&(r=n[0],_(r));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){b(void 0),_(void 0)},q=function(){if(x.SUPPORTED_CHAINS.includes(S)&&(!a||a.provider.network.chainId!==Number(S))){var e,n=x.CONTRACT_INFO[S];t?e=new f.Q(t):(e=h.yl(Number(S),{etherscan:C.env.REACT_APP_ETHERSCAN_API_KEY,infura:"-",alchemy:C.env.REACT_APP_ALCHEMY_API_KEY,pocket:"-",ankr:"-"}),e=new d.D(Number(S),C.env.REACT_APP_ALCHEMY_API_KEY));var r=new l.CH(n.address,n.abi,e);r.name().then((function(e){e===x.CONTRACT_NAME&&p(r)}))}},F={metamask:t,chainId:S,signer:A,contractConnection:a,getWriteConnection:H,clearWriteConnection:Y,latestBlockNum:T,loadSigner:W,changeChainManually:function(e){E(e),Y(),q(),j(new Map)},tokenInfo:O,setTokenInfo:j,isOwner:Z,isSubscriber:D};return u.useEffect((function(){function e(){return(e=(0,c.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request({method:"eth_chainId"});case 2:n=e.sent,E(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t?function(){e.apply(this,arguments)}():E("0x5")}),[]),u.useEffect((function(){q()}),[S]),u.useEffect((function(){a&&(a.on("Transfer",(function(e,n,t,r){I(r.blockNumber)})),A&&a.balanceOf(A).then((function(e){y(e>0)})))}),[a]),(0,s.jsx)(v.Provider,{value:F,children:n})}},2562:function(e,n,t){"use strict";t.r(n),t.d(n,{ContractWriteModal:function(){return C}});var r=t(7568),c=t(828),o=t(4051),a=t.n(o),i=t(5893),s=t(7294),u=t(8538),f=t(7741),l=t(7927),h=t(9755),d=t(1943),x=t(3621),C=function(e){var n=e.triggerButtonText,t=e.triggerButtonColorScheme,o=e.header,C=e.confirmButtonText,p=e.inProgressMessage,v=e.successMessage,k=e.modalBody,m=e.callContract,b=e.onSuccess,w=e.onError,A=(0,x.useBlockchainContext)(),_=A.contractConnection,g=A.getWriteConnection,S=A.metamask,E=(0,h.q)(),N=E.isOpen,T=E.onOpen,I=E.onClose,P=(0,c.Z)(s.useState(!1),2),O=P[0],j=P[1],R=(0,c.Z)(s.useState(),2),Z=R[0],y=R[1],M=(0,c.Z)(s.useState(),2),D=M[0],B=M[1],H=function(){var e=(0,r.Z)(a().mark((function e(){var n,t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=3;break}return B("This action requires Metamask."),e.abrupt("return");case 3:return e.next=5,g();case 5:if(n=e.sent){e.next=9;break}return B("Could not get a write connection to the contract on this network"),e.abrupt("return");case 9:return j(!0),B(void 0),e.prev=11,e.next=14,m(n);case 14:return t=e.sent,e.next=17,t.wait();case 17:y(t.hash),j(!1),b(),e.next=28;break;case 22:e.prev=22,e.t0=e.catch(11),console.log(e.t0),(r=e.t0.message.match(/reason":"(.+)","code/))&&r.length>1?(B(r[1]),w(r[1])):(B(e.t0.reason),w(e.t0.reason)),j(!1);case 28:case"end":return e.stop()}}),e,null,[[11,22]])})));return function(){return e.apply(this,arguments)}}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.zx,{colorScheme:t,onClick:T,disabled:!_,children:n}),(0,i.jsxs)(u.u_,{isOpen:N,onClose:function(){B(void 0),j(!1),I()},children:[(0,i.jsx)(u.ZA,{}),(0,i.jsxs)(u.hz,{children:[(0,i.jsx)(u.xB,{children:o}),(0,i.jsx)(u.ol,{}),!O&&!Z&&!D&&(0,i.jsx)(u.fe,{children:k}),D&&(0,i.jsxs)(u.fe,{children:["Error: ",D," Check the dev console for details."]}),!D&&Z&&(0,i.jsxs)(u.fe,{children:[v," You can see the transaction"," ",(0,i.jsx)(l.rU,{color:"cyan.500",href:"https://rinkeby.etherscan.io/tx/".concat(Z),children:"here"}),"."]}),O&&(0,i.jsx)(u.fe,{children:(0,i.jsxs)(l.kC,{width:"100%",height:"100%",alignItems:"center",gap:5,padding:30,children:[(0,i.jsx)(d.D8,{isIndeterminate:!0,color:"yellow.400"}),(0,i.jsx)("div",{children:p})]})}),(0,i.jsx)(u.mz,{children:(0,i.jsx)(f.zx,{colorScheme:"blue",mr:3,onClick:H,children:C})})]})]})]})}},3920:function(e,n,t){"use strict";t.r(n),t.d(n,{CHAIN_ID_TO_NAME:function(){return o},CONTRACT_INFO:function(){return s},CONTRACT_NAME:function(){return i},PARAGRAPH_SPACING:function(){return c},SUPPORTED_CHAINS:function(){return u},ZERO_ADDRESS:function(){return a}});var r=t(6971),c=5,o={"0x0":"Not connected","0x1":"Ethereum","0x3":"Ropsten","0x4":"Rinkeby","0x5":"Goerli","0x2a":"Kovan"},a="0x0000000000000000000000000000000000000000",i="PoemPathfinder",s={"0x4":{address:"0xDeE90CcC0ebD4b1cf3373621946b8fee22660f47",abi:r.abi,openSeaLink:"https://testnets.opensea.io/collection/poempathfinder"},"0x5":{address:"0x9b92C19698D61E6f8899CAD25390857FAD6eA5Cc",abi:r.abi}},u=Object.keys(s)},6601:function(){}}]);