(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3225,8694,8575,3920],{8694:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var o=n(5893),r=(n(7294),n(7927));function a(e){var t=e.children;return(0,o.jsx)(r.M5,{children:(0,o.jsx)(r.xu,{width:"70%",textAlign:"left",children:t})})}},2529:function(e,t,n){"use strict";n.r(t),n.d(t,{Page:function(){return d}});var o=n(828),r=n(5893),a=(n(7294),n(8712)),i=n(309),s=n(7881),u=n(3697),c=n(7927),h=n(8694),l=n(3621),d=function(){var e=(0,o.Z)((0,s.Z)(["outOfBed","pocketAnimal","begin"]),3),t=e[0],n=e[1],d=e[2],f=(0,l.useBlockchainContext)(),p=f.signer,x=f.isOwner;return(0,r.jsx)(h.default,{children:(0,r.jsxs)(a.WC,{filename:"chapter1",children:[(0,r.jsx)(a.$0,{children:(0,r.jsxs)(c.xv,{children:["You've heard about The Shopkeeper. An old wives' tale, really, but you believe. She lives somewhere, in The Between, selling her wares to the few who find her. They say she's sold glasses that help mortals see fairy-folk. They say she crafted the sword in the stone. They say she sold the curse that locked Rapunzel in her"," ",(0,r.jsx)(a.C,{options:[["tower"]],next:u.o6.Section,tag:"chapter1-1"}),"."]})}),(0,r.jsx)(a.$0,{children:(0,r.jsxs)(c.xv,{children:["But the most secret story. The one you've pieced together through scattered legends and rippling rumors, is that of the gemstone"," ",(0,r.jsx)(a.C,{options:[["poem"]],next:u.o6.Section,tag:"chapter1-2"}),"."]})}),(0,r.jsxs)(a.$0,{children:[(0,r.jsx)(c.xv,{children:"Deep in the heart of a fiery mountain, they say, thousands of years ago, seven dwarves came together. By day, they mined the mountain for gold and jewels. But by night, they were artists: singing of dreams, painting visions of glory. Their nights were numbered: war was coming. In a fleeting rush, they poured their souls into one final poem, split across seven gemstones. No one is sure what's more valuable: the gems themselves or the poem within. They say The Shopkeeper holds them safe, waiting for those worthy of its purchase."}),(0,r.jsx)(c.xv,{children:"You've spent the last year searching, ready to prove you're worthy."}),!d&&(0,r.jsxs)(r.Fragment,{children:[!p&&(0,r.jsx)("p",{children:(0,r.jsx)("i",{children:"(Psst! If you've been here before, you can connect your wallet above for a more custom experience.)"})}),(0,r.jsx)(c.xv,{children:(0,r.jsx)(a.JL,{text:"Begin",next:x?"alreadyVisited":u.o6.Section,tag:"begin"})})]})]}),(0,r.jsx)(a.$0,{children:(0,r.jsxs)(c.xv,{children:["You wake up quickly to the sound of your alarm, fumbing with your phone so as not to disturb your roommates. It's 2am on a Sunday and you've got work to do. Rumor has it that The Shopkeeper's hut only appears during the darkest hour under the light of a full moon. You rush to get out of bed and pull on some jeans."," ",!t&&"You don't have much time, you can either ",(0,r.jsx)(a.C,{options:[["brush your teeth,","grab a bite to eat"]],last:"",extra:{conjunction:" "},tag:"outOfBed"}),!t&&(0,r.jsxs)(r.Fragment,{children:[", or ",(0,r.jsx)(a.JL,{text:"skip getting ready and leave right away",next:"chapter2"})]})]})}),(0,r.jsx)(a.$0,{children:(0,r.jsx)(a.R,{tag:"outOfBed",options:{teeth:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.xv,{children:"You race to the bathroom, brushing your teeth as quickly as you can. Tonight feels different from the other nights. Good different. As you lean over to spit in the sink, you notice your roommate's two small ceramic statues smiling at you from the counter. One a cheerful green frog and one a smirking tabby cat. Their smiles seem...more alive than usual. Should you take one with you?"}),!n&&(0,r.jsx)(a.C,{options:[["pocket the tabby","pocket the frog","leave them both behind: they'll only slow you down"]],widget:i.hU,tag:"pocketAnimal"}),(0,r.jsx)(c.xv,{children:n&&(n.includes("leave")?" No, there's no time. You rush out of the bathroom.":" On a whim, you ".concat(n," and rush out of the bathroom."))})]}),eat:(0,r.jsxs)(c.xv,{children:["You race to the kitchen, pulling a bagel from the fridge and slathering it with cream cheese. Then you catch sight of the time. You gotta run. You're going to have to"," ",(0,r.jsx)(a.C,{options:[["take it with you","leave it behind"]],tag:"pocketBagel"}),"."]})}})}),(0,r.jsx)(a.$0,{children:(0,r.jsx)(a.JL,{text:"You're ready to go.",next:"chapter2"})})]})})}},3621:function(e,t,n){"use strict";n.r(t),n.d(t,{BlockchainContext:function(){return v},TokenStatus:function(){return o},useBlockchainContext:function(){return y}});var o,r=n(7568),a=n(828),i=n(4051),s=n.n(i),u=n(5893),c=n(7294),h=n(241),l=n(6076),d=n(7948),f=n(333),p=n(3920),x=n(3454);!function(e){e.Burned="BURN",e.Minted="MINT",e.Waiting="WAIT"}(o||(o={}));var g={metamask:void 0,contractConnection:void 0,getWriteConnection:function(){},clearWriteConnection:function(){},signer:void 0,chainId:"0x0",latestBlockNum:0,loadSigner:function(){},changeChainManually:function(e){},tokenInfo:new Map,setTokenInfo:function(e){},isOwner:!1,isSubscriber:!1},m=c.createContext(g),y=function(){return c.useContext(m)},v=function(e){var t=e.child,n=window&&window.ethereum,o=(0,a.Z)(c.useState(),2),i=o[0],g=o[1],y=(0,a.Z)(c.useState(),2),v=y[0],w=y[1],b=(0,a.Z)(c.useState(),2),C=b[0],k=b[1],A=(0,a.Z)(c.useState("0x0"),2),j=A[0],T=A[1],S=(0,a.Z)(c.useState(0),2),_=S[0],N=S[1],E=(0,a.Z)(c.useState(new Map),2),I=E[0],O=E[1],P=(0,a.Z)(c.useState(!1),2),R=P[0],B=P[1],Y=(0,a.Z)(c.useState(!1),2),Z=Y[0];Y[1];n&&n.on("chainChanged",(function(e){window&&window.location.reload()})),n&&n.on("accountsChanged",(function(e){e[0]!==C&&(C||v)&&F()}));var D=function(){var e=(0,r.Z)(s().mark((function e(){var t,o,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&p.SUPPORTED_CHAINS.includes(j)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=p.CONTRACT_INFO[j],o=new h.Q(n),r=o.getSigner(),a=new l.CH(t.address,t.abi,r),w(a),k(r._address),e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=v,e.t0){e.next=5;break}return e.next=4,D();case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,r.Z)(s().mark((function e(){var t,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.request({method:"eth_requestAccounts"});case 2:(t=e.sent).length>0&&(o=t[0],k(o));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){w(void 0),k(void 0)},W=function(){if(p.SUPPORTED_CHAINS.includes(j)&&(!i||i.provider.network.chainId!==Number(j))){var e,t=p.CONTRACT_INFO[j];n?e=new h.Q(n):(e=d.yl(Number(j),{etherscan:x.env.REACT_APP_ETHERSCAN_API_KEY,infura:"-",alchemy:x.env.REACT_APP_ALCHEMY_API_KEY,pocket:"-",ankr:"-"}),e=new f.D(Number(j),x.env.REACT_APP_ALCHEMY_API_KEY));var o=new l.CH(t.address,t.abi,e);o.name().then((function(e){e===p.CONTRACT_NAME&&g(o)}))}},L={metamask:n,chainId:j,signer:C,contractConnection:i,getWriteConnection:M,clearWriteConnection:F,latestBlockNum:_,loadSigner:H,changeChainManually:function(e){T(e),F(),W(),O(new Map)},tokenInfo:I,setTokenInfo:O,isOwner:R,isSubscriber:Z};return c.useEffect((function(){function e(){return(e=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.request({method:"eth_chainId"});case 2:t=e.sent,T(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n?function(){e.apply(this,arguments)}():T("0x5")}),[]),c.useEffect((function(){W()}),[j]),c.useEffect((function(){i&&(i.on("Transfer",(function(e,t,n,o){N(o.blockNumber)})),C&&i.balanceOf(C).then((function(e){B(e>0)})))}),[i]),(0,u.jsx)(m.Provider,{value:L,children:t})}},3920:function(e,t,n){"use strict";n.r(t),n.d(t,{CHAIN_ID_TO_NAME:function(){return a},CONTRACT_INFO:function(){return u},CONTRACT_NAME:function(){return s},PARAGRAPH_SPACING:function(){return r},SUPPORTED_CHAINS:function(){return c},ZERO_ADDRESS:function(){return i}});var o=n(6971),r=5,a={"0x0":"Not connected","0x1":"Ethereum","0x3":"Ropsten","0x4":"Rinkeby","0x5":"Goerli","0x2a":"Kovan"},i="0x0000000000000000000000000000000000000000",s="PoemPathfinder",u={"0x4":{address:"0xDeE90CcC0ebD4b1cf3373621946b8fee22660f47",abi:o.abi,openSeaLink:"https://testnets.opensea.io/collection/poempathfinder"},"0x5":{address:"0x9b92C19698D61E6f8899CAD25390857FAD6eA5Cc",abi:o.abi}},c=Object.keys(u)},6601:function(){}}]);