(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9318,8694,8575,3567,3920],{7741:function(e,n,t){"use strict";t.d(n,{hU:function(){return v},zx:function(){return h}});var r=t(7294),a=t(7761),o=t(2873),i=t(4520),c=t(8387),u=t(5610),s=(...e)=>e.filter(Boolean).join(" "),l=e=>e?"":void 0,[f,d]=(0,c.k)({strict:!1,name:"ButtonGroupContext"});function p(e){const{children:n,className:t,...a}=e,i=(0,r.isValidElement)(n)?(0,r.cloneElement)(n,{"aria-hidden":!0,focusable:!1}):n,c=s("chakra-button__icon",t);return r.createElement(o.m$.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...a,className:c},i)}function m(e){const{label:n,placement:t,spacing:a="0.5rem",children:i=r.createElement(u.$,{color:"currentColor",width:"1em",height:"1em"}),className:c,__css:l,...f}=e,d=s("chakra-button__spinner",c),p="start"===t?"marginEnd":"marginStart",m=(0,r.useMemo)((()=>({display:"flex",alignItems:"center",position:n?"relative":"absolute",[p]:n?a:0,fontSize:"1em",lineHeight:"normal",...l})),[l,n,p,a]);return r.createElement(o.m$.div,{className:d,...f,__css:m},i)}p.displayName="ButtonIcon",m.displayName="ButtonSpinner";var h=(0,o.Gp)(((e,n)=>{const t=d(),c=(0,o.mq)("Button",{...t,...e}),{isDisabled:u=(null==t?void 0:t.isDisabled),isLoading:f,isActive:p,children:h,leftIcon:v,rightIcon:g,loadingText:C,iconSpacing:y="0.5rem",type:E,spinner:N,spinnerPlacement:x="start",className:S,as:_,...k}=(0,i.Lr)(e),w=(0,r.useMemo)((()=>{const e={...null==c?void 0:c._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...c,...!!t&&{_focus:e}}}),[c,t]),{ref:A,type:I}=function(e){const[n,t]=(0,r.useState)(!e);return{ref:(0,r.useCallback)((e=>{e&&t("BUTTON"===e.tagName)}),[]),type:n?"button":void 0}}(_),T={rightIcon:g,leftIcon:v,iconSpacing:y,children:h};return r.createElement(o.m$.button,{disabled:u||f,ref:(0,a.qq)(n,A),as:_,type:E??I,"data-active":l(p),"data-loading":l(f),__css:w,className:s("chakra-button",S),...k},f&&"start"===x&&r.createElement(m,{className:"chakra-button__spinner--start",label:C,placement:"start",spacing:y},N),f?C||r.createElement(o.m$.span,{opacity:0},r.createElement(b,{...T})):r.createElement(b,{...T}),f&&"end"===x&&r.createElement(m,{className:"chakra-button__spinner--end",label:C,placement:"end",spacing:y},N))}));function b(e){const{leftIcon:n,rightIcon:t,children:a,iconSpacing:o}=e;return r.createElement(r.Fragment,null,n&&r.createElement(p,{marginEnd:o},n),a,t&&r.createElement(p,{marginStart:o},t))}h.displayName="Button",(0,o.Gp)((function(e,n){const{size:t,colorScheme:a,variant:i,className:c,spacing:u="0.5rem",isAttached:l,isDisabled:d,...p}=e,m=s("chakra-button__group",c),h=(0,r.useMemo)((()=>({size:t,colorScheme:a,variant:i,isDisabled:d})),[t,a,i,d]);let b={display:"inline-flex"};return b=l?{...b,"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}}:{...b,"& > *:not(style) ~ *:not(style)":{marginStart:u}},r.createElement(f,{value:h},r.createElement(o.m$.div,{ref:n,role:"group",__css:b,className:m,"data-attached":l?"":void 0,...p}))})).displayName="ButtonGroup";var v=(0,o.Gp)(((e,n)=>{const{icon:t,children:a,isRound:o,"aria-label":i,...c}=e,u=t||a,s=(0,r.isValidElement)(u)?(0,r.cloneElement)(u,{"aria-hidden":!0,focusable:!1}):null;return r.createElement(h,{padding:"0",borderRadius:o?"full":void 0,ref:n,"aria-label":i,...c},s)}));v.displayName="IconButton"},7761:function(e,n,t){"use strict";t.d(n,{lq:function(){return a},qq:function(){return o}});var r=t(7294);function a(...e){return n=>{e.forEach((e=>{!function(e,n){if(null!=e)if("function"!==typeof e)try{e.current=n}catch(t){throw new Error(`Cannot assign value '${n}' to ref '${e}'`)}else e(n)}(e,n)}))}}function o(...e){return(0,r.useMemo)((()=>a(...e)),e)}},5610:function(e,n,t){"use strict";t.d(n,{$:function(){return u}});var r=t(7294),a=t(917),o=t(2873),i=t(4520),c=(0,a.F4)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),u=(0,o.Gp)(((e,n)=>{const t=(0,o.mq)("Spinner",e),{label:a="Loading...",thickness:u="2px",speed:s="0.45s",emptyColor:l="transparent",className:f,...d}=(0,i.Lr)(e),p=((...e)=>e.filter(Boolean).join(" "))("chakra-spinner",f),m={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:u,borderBottomColor:l,borderLeftColor:l,animation:`${c} ${s} linear infinite`,...t};return r.createElement(o.m$.div,{ref:n,__css:m,className:p,...d},a&&r.createElement(o.m$.span,{srOnly:!0},a))}));u.displayName="Spinner"},8694:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return o}});var r=t(5893),a=(t(7294),t(7927));function o(e){var n=e.children;return(0,r.jsx)(a.M5,{children:(0,r.jsx)(a.xu,{width:"70%",textAlign:"left",children:n})})}},3418:function(e,n,t){"use strict";t.r(n),t.d(n,{Page:function(){return s}});var r=t(5893),a=(t(7294),t(8712)),o=t(7741),i=t(8694),c=t(3621),u=t(3567),s=function(){var e=(0,c.useBlockchainContext)(),n=e.isSubscriber,t=e.isOwner,s=(0,u.useNavContext)().setCurrPage;return(0,r.jsx)(i.default,{children:(0,r.jsx)(a.WC,{filename:"chapter6",children:(0,r.jsxs)(a.$0,{children:[(0,r.jsxs)("p",{children:["You arrive back to your apartment just before the break of dawn, a renewed excitement vibrating through every bone in your body. You don't know if you'll ever see The Shopkeeper again, but you know you'll never forget her.",t?" In the meantime, well, you have another adventure to begin.":n?" You squeeze the new trinket in your pocket gently. Besides, you get a sense that your adventure is only just beginning.":" Besides, you have a feeling your adventure is only just beginning."]}),(0,r.jsx)(o.zx,{colorScheme:"yellow",onClick:function(){return s(u.Pages.CurrStatus)},children:"End"})]})})})}},3621:function(e,n,t){"use strict";t.r(n),t.d(n,{BlockchainContext:function(){return C},TokenStatus:function(){return r},useBlockchainContext:function(){return g}});var r,a=t(7568),o=t(828),i=t(4051),c=t.n(i),u=t(5893),s=t(7294),l=t(241),f=t(6076),d=t(7948),p=t(333),m=t(3920),h=t(3454);!function(e){e.Burned="BURN",e.Minted="MINT",e.Waiting="WAIT"}(r||(r={}));var b={metamask:void 0,contractConnection:void 0,getWriteConnection:function(){},clearWriteConnection:function(){},signer:void 0,chainId:"0x0",latestBlockNum:0,loadSigner:function(){},changeChainManually:function(e){},tokenInfo:new Map,setTokenInfo:function(e){},isOwner:!1,isSubscriber:!1},v=s.createContext(b),g=function(){return s.useContext(v)},C=function(e){var n=e.child,t=window&&window.ethereum,r=(0,o.Z)(s.useState(),2),i=r[0],b=r[1],g=(0,o.Z)(s.useState(),2),C=g[0],y=g[1],E=(0,o.Z)(s.useState(),2),N=E[0],x=E[1],S=(0,o.Z)(s.useState("0x0"),2),_=S[0],k=S[1],w=(0,o.Z)(s.useState(0),2),A=w[0],I=w[1],T=(0,o.Z)(s.useState(new Map),2),P=T[0],R=T[1],O=(0,o.Z)(s.useState(!1),2),B=O[0],M=O[1],D=(0,o.Z)(s.useState(!1),2),j=D[0];D[1];t&&t.on("chainChanged",(function(e){window&&window.location.reload()})),t&&t.on("accountsChanged",(function(e){e[0]!==N&&(N||C)&&L()}));var $=function(){var e=(0,a.Z)(c().mark((function e(){var n,r,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&m.SUPPORTED_CHAINS.includes(_)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n=m.CONTRACT_INFO[_],r=new l.Q(t),a=r.getSigner(),o=new f.CH(n.address,n.abi,a),y(o),x(a._address),e.abrupt("return",o);case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=C,e.t0){e.next=5;break}return e.next=4,$();case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,a.Z)(c().mark((function e(){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request({method:"eth_requestAccounts"});case 2:(n=e.sent).length>0&&(r=n[0],x(r));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){y(void 0),x(void 0)},q=function(){if(m.SUPPORTED_CHAINS.includes(_)&&(!i||i.provider.network.chainId!==Number(_))){var e,n=m.CONTRACT_INFO[_];t?e=new l.Q(t):(e=d.yl(Number(_),{etherscan:h.env.REACT_APP_ETHERSCAN_API_KEY,infura:"-",alchemy:h.env.REACT_APP_ALCHEMY_API_KEY,pocket:"-",ankr:"-"}),e=new p.D(Number(_),h.env.REACT_APP_ALCHEMY_API_KEY));var r=new f.CH(n.address,n.abi,e);r.name().then((function(e){e===m.CONTRACT_NAME&&b(r)}))}},G={metamask:t,chainId:_,signer:N,contractConnection:i,getWriteConnection:Z,clearWriteConnection:L,latestBlockNum:A,loadSigner:H,changeChainManually:function(e){k(e),L(),q(),R(new Map)},tokenInfo:P,setTokenInfo:R,isOwner:B,isSubscriber:j};return s.useEffect((function(){function e(){return(e=(0,a.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request({method:"eth_chainId"});case 2:n=e.sent,k(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t?function(){e.apply(this,arguments)}():k("0x5")}),[]),s.useEffect((function(){q()}),[_]),s.useEffect((function(){i&&(i.on("Transfer",(function(e,n,t,r){I(r.blockNumber)})),N&&i.balanceOf(N).then((function(e){M(e>0)})))}),[i]),(0,u.jsx)(v.Provider,{value:G,children:n})}},3567:function(e,n,t){"use strict";t.r(n),t.d(n,{NavContext:function(){return i},Pages:function(){return r},TutorialStep:function(){return a},useNavContext:function(){return c}});var r,a,o=t(7294);!function(e){e.CurrStatus="POEM",e.About="STORY",e.Home="LAND"}(r||(r={})),function(e){e.None="NONE",e.Rules="RULES",e.Image="IMAGE",e.TokenList="TOKENLIST"}(a||(a={}));var i=o.createContext({currPage:r.About,setCurrPage:function(e){},tutorialState:a.None,setTutorialState:function(e){}}),c=function(){return o.useContext(i)}},3920:function(e,n,t){"use strict";t.r(n),t.d(n,{CHAIN_ID_TO_NAME:function(){return o},CONTRACT_INFO:function(){return u},CONTRACT_NAME:function(){return c},PARAGRAPH_SPACING:function(){return a},SUPPORTED_CHAINS:function(){return s},ZERO_ADDRESS:function(){return i}});var r=t(6971),a=5,o={"0x0":"Not connected","0x1":"Ethereum","0x3":"Ropsten","0x4":"Rinkeby","0x5":"Goerli","0x2a":"Kovan"},i="0x0000000000000000000000000000000000000000",c="PoemPathfinder",u={"0x4":{address:"0xDeE90CcC0ebD4b1cf3373621946b8fee22660f47",abi:r.abi,openSeaLink:"https://testnets.opensea.io/collection/poempathfinder"},"0x5":{address:"0x9b92C19698D61E6f8899CAD25390857FAD6eA5Cc",abi:r.abi}},s=Object.keys(u)},6601:function(){}}]);