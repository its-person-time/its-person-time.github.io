(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{6890:function(n,t,e){(window._nextlib_P=window._nextlib_P||[]).push(["/[story]/[[...chapter]]",function(){return e(6570)}])},9978:function(n,t,e){"use strict";e.d(t,{Mj:function(){return i},Vx:function(){return u}});var i,r=e(7236);!function(n){n.Choice="CHOICE",n.Nav="NAV"}(i||(i={}));var o=(0,r.oM)({name:"log",initialState:{log:[]},reducers:{update:function(n,t){n.log.push(t.payload.entry)}}}),u=o.actions.update;t.ZP=o.reducer},2470:function(n,t,e){"use strict";e.d(t,{DT:function(){return l},mA:function(){return f},o6:function(){return i},uy:function(){return s}});var i,r=e(1090),o=e(7236),u=e(7996);!function(n){n.Section="SECTION",n.Chapter="CHAPTER",n.None="NONE"}(i||(i={}));var c=(0,o.oM)({name:"navigation",initialState:null,reducers:{incrementSection:function(n,t){var e=t.payload.filename,i=(0,u.b)(n.toc,e);i.bookmark=Math.min(i.bookmark+1,i.sectionCount)},setSectionCount:function(n,t){var e=t.payload,i=e.filename,r=e.count;(0,u.b)(n.toc,i).sectionCount=r},gotoChapter:function(n,t){var e=t.payload.filename;Object.values(n.toc).filter((function(n){return n.visible})).forEach((function(n){return n.visible=!1})),(0,u.b)(n.toc,e).visible=!0}}}),a=c.actions,l=a.incrementSection,f=a.setSectionCount,s=a.gotoChapter;t.ZP=(0,r.ZP)(c.reducer,{filter:(0,r.kw)("navigation/setSectionCount"),syncFilter:!0})},3697:function(n,t,e){"use strict";e.d(t,{CG:function(){return l},De:function(){return c},Mj:function(){return o.Mj},TL:function(){return a},o6:function(){return u.o6}});var i=e(1438),r=e(2664),o=e(9978),u=e(2470),c=function n(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3?arguments[3]:void 0,u=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0;(0,i.Z)(this,n),this.identifier=t,this.title=e,this.enableUndo=r,this.players=o,this.language=u,this.extra=c},a=r.I0,l=r.v9},7996:function(n,t,e){"use strict";e.d(t,{S:function(){return i},b:function(){return r}});var i=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(null===t)return n;if(n){var e=n.split(" ");return e.slice(t)[0]}return null},r=function(n,t){return Object.values(n).filter((function(n){return n.filename===t}))[0]}},6570:function(n,t,e){"use strict";e.r(t),e.d(t,{__N_SSG:function(){return l},default:function(){return f}});var i=e(5893),r=(e(7294),e(5152)),o=e.n(r),u=e(1163),c=e(3697),a=e(7996),l=!0;function f(n){var t=(0,u.useRouter)().query,r=t.story,l=t.chapter,f=n.toc,s=n.configYaml,v=new c.De(r,s.title,s.enableUndo,s.players,s.language,s.extra);l?(Object.values(f).filter((function(n){return n.visible})).forEach((function(n){return n.visible=!1})),(0,a.b)(f,l[0]).visible=!0):v.players&&1===v.players.length&&((0,a.b)(f,v.players[0].start).visible=!0);var h=o()((function(){return Promise.all([e.e(4345),e.e(315)]).then(e.bind(e,315))}),{ssr:!1});return(0,i.jsx)(h,{toc:f,config:v})}}},function(n){n.O(0,[5974,9774,2888,179],(function(){return t=6890,n(n.s=t);var t}));var t=n.O();_N_E=t}]);