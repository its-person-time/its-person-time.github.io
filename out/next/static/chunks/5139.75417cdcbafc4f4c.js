"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5139,3683,3567,2157],{5982:function(e,n,t){t.r(n),t.d(n,{BurnModal:function(){return c}});var o=t(828),r=t(5893),s=t(7294),a=t(7742),i=t(2562),c=function(){var e=(0,o.Z)(s.useState(0),2),n=e[0],t=e[1];return(0,r.jsx)(i.ContractWriteModal,{triggerButtonText:"Destroy",triggerButtonColorScheme:"red",header:"Destroy a gem",confirmButtonText:"Burn",inProgressMessage:"destroying...",successMessage:"Destroyed!",modalBody:(0,r.jsxs)(r.Fragment,{children:["This will burn your token. Doing so will take us one step closer to our final poem. You may only destroy a gem you own. Are you ready? Note that this action requires Metamask.",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"Select a gem to destroy:",(0,r.jsxs)(a.Y2,{min:0,max:6,onChange:function(e,n){return t(n)},value:n,children:[(0,r.jsx)(a.zu,{}),(0,r.jsxs)(a.Fi,{children:[(0,r.jsx)(a.WQ,{}),(0,r.jsx)(a.Y_,{})]})]})]}),callContract:function(e){return e.burn(n)}})}},3683:function(e,n,t){t.r(n),t.d(n,{ContractWriteOptions:function(){return g}});var o=t(5893),r=(t(7294),t(7741)),s=t(3621),a=t(5982),i=t(3920),c=t(3750),l=t(2494),u=t(7927),d=t(2415),x=t(2157),h=t(3567),f=t(9755),g=function(){var e=(0,s.useBlockchainContext)(),n=e.contractConnection,t=e.chainId,g=(0,h.useNavContext)(),p=g.setTutorialState,j=g.setCurrPage,m=(0,f.q)(),k=m.onOpen,S=m.onClose;return(0,o.jsxs)(u.kC,{flexWrap:"wrap",paddingTop:"10px",gap:5,children:[(0,o.jsxs)(d.J2,{returnFocusOnClose:!1,onOpen:function(){p(h.TutorialStep.Rules),k()},onClose:S,placement:"left-end",children:[(0,o.jsx)(d.xo,{children:(0,o.jsx)(r.hU,{variant:"ghost","aria-label":"the rules",fontSize:"20px",icon:(0,o.jsx)(l.ZP,{as:c.Hfo})})}),(0,o.jsxs)(d.yk,{children:[(0,o.jsx)(d.QH,{}),(0,o.jsx)(d.us,{}),(0,o.jsx)(d.Yt,{children:"Rules"}),(0,o.jsx)(d.b,{fontSize:"16px",padding:"20px",children:(0,o.jsx)(x.Rules,{})}),(0,o.jsxs)(d.DT,{as:u.kC,children:[(0,o.jsx)(u.LZ,{}),(0,o.jsx)(r.zx,{onClick:function(){p(h.TutorialStep.Image)},children:"next"})]})]})]}),(0,o.jsx)(r.zx,{colorScheme:"yellow",onClick:function(){return j(h.Pages.About)},children:"Find"},"nav"),(0,o.jsx)(a.BurnModal,{}),(0,o.jsx)(r.zx,{onClick:function(){return window.open("https://".concat(i.CHAIN_ID_TO_NAME[t].toLowerCase(),".etherscan.io/address/").concat(i.CONTRACT_INFO[t].address,"#readContract"))},disabled:!n,children:"Etherscan"}),i.CONTRACT_INFO[t]&&i.CONTRACT_INFO[t].openSeaLink&&(0,o.jsx)(r.zx,{onClick:function(){return window.open(i.CONTRACT_INFO[t].openSeaLink)},children:"OpenSea"})]})}},3567:function(e,n,t){t.r(n),t.d(n,{NavContext:function(){return a},Pages:function(){return o},TutorialStep:function(){return r},useNavContext:function(){return i}});var o,r,s=t(7294);!function(e){e.CurrStatus="POEM",e.About="STORY",e.Home="LAND"}(o||(o={})),function(e){e.None="NONE",e.Rules="RULES",e.Image="IMAGE",e.TokenList="TOKENLIST"}(r||(r={}));var a=s.createContext({currPage:o.About,setCurrPage:function(e){},tutorialState:r.None,setTutorialState:function(e){}}),i=function(){return s.useContext(a)}},1948:function(e,n,t){t.r(n),t.d(n,{PoemSvg:function(){return x}});var o=t(828),r=t(5893),s=t(7294),a=t(8395),i=t(7927),c=t(7741),l=t(3621),u=t(2415),d=t(3567),x=function(){var e=(0,a.If)().colorMode,n=(0,l.useBlockchainContext)(),t=n.contractConnection,x=n.metamask,h=(0,d.useNavContext)(),f=h.setTutorialState,g=h.tutorialState,p=(0,o.Z)(s.useState("Fetching blockchain info..."),2),j=p[0],m=p[1];s.useEffect((function(){t?t.getDefaultSvg().then((function(e){m(e)})):m("Can't fetch Poem contract info. Do you have Metamask installed? This site uses the Metamask to query the Ethereum blockchain without using any of your personal data.")}),[t]);return x&&!t?(0,r.jsx)(i.M5,{children:"Poem is currently only launched on the Ethereum mainnet and Goerli networks. Please use Metamask to switch networks."}):t?(0,r.jsxs)(u.J2,{isOpen:g===d.TutorialStep.Image,placement:"right-start",children:[(0,r.jsx)(u.xo,{children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"100%",width:"100%",viewBox:"0 0 800 800",dangerouslySetInnerHTML:{__html:function(n){var t="dark"===e?"#a9a9a9":"#999999",o="dark"===e?"#555555":"#aaaaaa",r="dark"===e?"white":"black",s="dark"===e?"#333333":"#cccccc";return n.replace('<svg xmlns="http://www.w3.org/2000/svg" width="800" height="800" style="background:#1a1a1a">','<style>[class*="node"]{font-size:21px !important; overflow:hidden !important;}.node{color:'.concat(t," !important;} .nodeNotSelected{color:").concat(o," !important;} .nodeSelected{color:").concat(r," !important;} .nodeHidden{color:").concat(s," !important;}")+".sentence{font-size:70px !important;color:".concat(r," !important;text-align:left;font-family:serif}</style>"))}(j)}})}),(0,r.jsxs)(u.yk,{children:[(0,r.jsx)(u.QH,{}),(0,r.jsx)(u.us,{onClick:function(){f(d.TutorialStep.None)}}),(0,r.jsx)(u.Yt,{children:"The Poem"}),(0,r.jsx)(u.b,{fontSize:"16px",padding:"20px",children:"The poem is stored on the blockchain both as text and as the image you see here, available in each token's metadata. With every transaction, the view changes: switching between the poem we've constructed so far and a birds' eye view of the diamond"}),(0,r.jsxs)(u.DT,{as:i.kC,children:[(0,r.jsx)(i.LZ,{}),(0,r.jsx)(c.zx,{onClick:function(){f(d.TutorialStep.TokenList)},children:"next"})]})]})]}):(0,r.jsx)(i.M5,{children:j})}},5139:function(e,n,t){t.r(n),t.d(n,{PoemViewer:function(){return u}});var o=t(5893),r=(t(7294),t(7927)),s=t(8395),a=t(1948),i=t(7405),c=t(5360),l=t(3621),u=function(){var e=(0,s.If)().colorMode,n=(0,l.useBlockchainContext)().latestBlockNum,t="dark"===e?"whiteAlpha.50":"blackAlpha.50";return(0,o.jsxs)(r.rj,{p:3,maxHeight:[null,null,"92vh","92vh"],templateRows:"repeat(4, 1fr)",templateColumns:"repeat(8, 1fr)",gap:4,children:[(0,o.jsx)(r.P4,{rowSpan:[1,2,3,3],colSpan:[8,8,5,5],alignItems:"center",children:(0,o.jsx)(a.PoemSvg,{},"svg-".concat(n))}),(0,o.jsx)(r.P4,{padding:"20px",rowSpan:[1,2,3,3],colSpan:[8,8,3,3],bg:t,children:(0,o.jsx)(i.TransactionList,{},"txnList-".concat(n))}),(0,o.jsx)(r.P4,{padding:"20px",rowSpan:1,colSpan:8,bg:t,children:(0,o.jsx)(c.TokenList,{},"tokenList-".concat(n))})]})}},2157:function(e,n,t){t.r(n),t.d(n,{Rules:function(){return s}});var o=t(5893),r=(t(7294),t(7927)),s=function(e){var n=e.headingSize;return(0,o.jsxs)(o.Fragment,{children:[n&&(0,o.jsx)(r.X6,{size:n,children:"Rules"}),(0,o.jsxs)(r.QI,{textAlign:"left",children:[(0,o.jsx)(r.HC,{children:"there are 7 total NFTs available"}),(0,o.jsx)(r.HC,{children:"you may mint a maximum of one token"}),(0,o.jsx)(r.HC,{children:"you may hold up to 3 tokens at a time"}),(0,o.jsx)(r.HC,{children:"minting, transferring, and holding all impact the path we take down the diamond"}),(0,o.jsx)(r.HC,{children:"burning a token is the only way to take our next step"})]})]})}},5360:function(e,n,t){t.r(n),t.d(n,{TokenList:function(){return j}});var o=t(828),r=t(5893),s=t(7927),a=t(7741),i=t(1943),c=t(7294),l=t(3621),u=t(8193),d=t(3854),x=t(3750),h=t(3038),f=t(2494),g=t(2415),p=t(3567),j=function(){var e=(0,l.useBlockchainContext)().contractConnection,n=(0,p.useNavContext)(),t=n.setTutorialState,j=n.setCurrPage,k=n.tutorialState,S=(0,o.Z)(c.useState(!1),2),C=S[0],w=S[1],v=(0,o.Z)(c.useState(),2),b=v[0],T=v[1],y=(0,o.Z)(c.useState(0),2),N=y[0],E=y[1];c.useEffect((function(){e&&(w(!0),e.MAX_NUM_NFTS().then((function(e){E(e)})).catch((function(e){return T(e)})).finally((function(){return w(!1)})))}),[e]);return(0,r.jsxs)(r.Fragment,{children:[C&&(0,r.jsxs)(s.kC,{width:"100%",height:"100%",alignItems:"center",gap:5,padding:30,children:[(0,r.jsx)(i.D8,{isIndeterminate:!0,color:"yellow.400"}),(0,r.jsx)("div",{children:"Getting token info"})]}),b&&(0,r.jsxs)(h.bZ,{status:"error",children:[(0,r.jsx)(h.zM,{}),"Error fetching transactions: ",b.message]}),N>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.X6,{as:"h5",size:"md",textAlign:"left",children:"Tokens"}),(0,r.jsxs)(g.J2,{isOpen:k===p.TutorialStep.TokenList,children:[(0,r.jsx)(g.xo,{children:(0,r.jsx)(s.MI,{paddingTop:"10px",minChildWidth:"100px",spacing:"40px",children:function(){for(var e=[],n=0;n<N;n++)e.push((0,r.jsx)(m,{tokenId:n},n));return e}()})}),(0,r.jsxs)(g.yk,{children:[(0,r.jsx)(g.QH,{}),(0,r.jsx)(g.Yt,{children:"The Tokens"}),(0,r.jsxs)(g.b,{fontSize:"16px",padding:"20px",children:["This row shows you all possible tokens and their current states:"," ",(0,r.jsx)(f.ZP,{as:x.qbv,color:"gray.500",boxSize:"15px"}),"mintable",(0,r.jsx)(f.ZP,{as:x.qbv,color:"gray.500",boxSize:"15px"}),","," ",(0,r.jsx)(f.ZP,{as:d.dvR,color:"yellow.500",boxSize:"15px"}),"minted",(0,r.jsx)(f.ZP,{as:d.dvR,color:"yellow.500",boxSize:"15px"}),", and"," ",(0,r.jsx)(f.ZP,{as:u.o$9,color:"red.500",boxSize:"15px"}),"burned",(0,r.jsx)(f.ZP,{as:u.o$9,color:"red.500",boxSize:"15px"}),","]}),(0,r.jsxs)(g.DT,{as:s.kC,children:[(0,r.jsx)(a.zx,{onClick:function(){t(p.TutorialStep.None),j(p.Pages.About)},children:"learn more"}),(0,r.jsx)(s.LZ,{}),(0,r.jsx)(a.zx,{onClick:function(){t(p.TutorialStep.None)},children:"done"})]})]})]})]})]})},m=function(e){var n=e.tokenId,t=(0,l.useBlockchainContext)(),a=t.signer,i=t.tokenInfo,h=(0,o.Z)(c.useState(!1),2),g=h[0],p=h[1],j=i.get(n);c.useEffect((function(){var e=i.get(n);e&&e.owner&&a?p(e.owner.toLocaleLowerCase()===a.toLocaleLowerCase()):p(!1)}),[a,n,i]);return(0,r.jsxs)(s.gC,{children:[function(){switch(j&&j.status){case l.TokenStatus.Burned:return(0,r.jsx)(f.ZP,{as:u.o$9,color:"red.500",boxSize:"60px"});case l.TokenStatus.Minted:return(0,r.jsx)(f.ZP,{as:d.dvR,color:"yellow.500",boxSize:"60px"});default:return(0,r.jsx)(f.ZP,{as:x.qbv,color:"gray.500",boxSize:"60px"})}}(),(0,r.jsx)("div",{children:n}),g&&(0,r.jsx)(s.Ct,{colorScheme:"yellow",children:"Owned by you"})]})}},7405:function(e,n,t){t.r(n),t.d(n,{TransactionList:function(){return p}});var o,r=t(828),s=t(5893),a=t(7927),i=t(1943),c=t(7294),l=t(3621),u=t(8193),d=t(3854),x=t(9583),h=t(3920),f=t(3038),g=t(3683),p=function(){var e=(0,l.useBlockchainContext)(),n=e.contractConnection,t=e.setTokenInfo,o=(0,r.Z)(c.useState(!1),2),u=o[0],d=o[1],x=(0,r.Z)(c.useState(),2),p=x[0],m=x[1],k=(0,r.Z)(c.useState([]),2),S=k[0],C=k[1];c.useEffect((function(){n&&(d(!0),n.queryFilter(n.filters.Transfer()).then((function(e){C(e.sort((function(e,n){return e.blockNumber-n.blockNumber})))})).catch((function(e){return m(e)})).finally((function(){return d(!1)})))}),[n]),c.useEffect((function(){var e=new Set,n=new Map;S.slice().reverse().forEach((function(t){var o=Number(t.args.tokenId);e.has(o)||(t.args.to===h.ZERO_ADDRESS?n.set(o,{owner:h.ZERO_ADDRESS,status:l.TokenStatus.Burned}):n.set(o,{owner:t.args.to,status:l.TokenStatus.Minted}),e.add(o))})),t(n)}),[S,t]);return(0,s.jsxs)(a.kC,{width:"100%",height:"100%",direction:"column",children:[u&&(0,s.jsxs)(a.kC,{width:"100%",height:"100%",alignItems:"center",gap:5,padding:30,children:[(0,s.jsx)(i.D8,{isIndeterminate:!0,color:"teal.400"}),(0,s.jsx)("div",{children:"Fetching relevant transactions"})]}),p&&(0,s.jsxs)(f.bZ,{status:"error",children:[(0,s.jsx)(f.zM,{}),"Error fetching transactions: ",p.message]}),!u&&S.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.X6,{as:"h5",size:"md",textAlign:"left",children:"Transactions"}),(0,s.jsx)(a.aV,{spacing:5,textAlign:"left",padding:"20px",overflow:"scroll",children:S.map((function(e){return(0,s.jsx)(j,{from:e.args.from,to:e.args.to,tokenId:e.args.tokenId,blockNumber:e.blockNumber},e.blockNumber)}))}),(0,s.jsx)(a.LZ,{})]}),(0,s.jsx)(g.ContractWriteOptions,{})]})};!function(e){e.Burn="BURN",e.Mint="MINT",e.Transfer="TRANSFER"}(o||(o={}));var j=function(e){var n=e.from,t=e.to,r=e.tokenId,i=o.Transfer;n===h.ZERO_ADDRESS?i=o.Mint:t===h.ZERO_ADDRESS&&(i=o.Burn);return(0,s.jsxs)(a.HC,{children:[function(){switch(i){case o.Burn:return(0,s.jsx)(a.DE,{as:u.o$9,color:"red.500"});case o.Mint:return(0,s.jsx)(a.DE,{as:d.dvR,color:"yellow.500"});case o.Transfer:return(0,s.jsx)(a.DE,{as:x.Cq,color:"cyan.500"});default:return(0,s.jsx)(a.DE,{as:x.Cq})}}(),function(){var e=n.length,s="0x...".concat(n.substring(e-5)),a="0x...".concat(t.substring(e-5));switch(i){case o.Burn:return"Gem ".concat(r," burned by ").concat(s);case o.Mint:return"Gem ".concat(r," minted by ").concat(a);case o.Transfer:return"Gem ".concat(r," transferred from ").concat(s," to ").concat(a);default:return"unrecognized transaction"}}()]})}}}]);