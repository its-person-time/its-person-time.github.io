(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8575,3920],{3621:function(n,e,t){"use strict";t.r(e),t.d(e,{BlockchainContext:function(){return k},TokenStatus:function(){return r},useBlockchainContext:function(){return _}});var r,o=t(7568),u=t(828),c=t(4051),i=t.n(c),a=t(5893),s=t(7294),f=t(241),d=t(6076),h=t(7948),l=t(333),C=t(3920),p=t(3454);!function(n){n.Burned="BURN",n.Minted="MINT",n.Waiting="WAIT"}(r||(r={}));var A={metamask:void 0,contractConnection:void 0,getWriteConnection:function(){},clearWriteConnection:function(){},signer:void 0,chainId:"0x0",latestBlockNum:0,loadSigner:function(){},changeChainManually:function(n){},tokenInfo:new Map,setTokenInfo:function(n){},hasMinted:!1},v=s.createContext(A),_=function(){return s.useContext(v)},k=function(n){var e=n.child,t=window&&window.ethereum,r=(0,u.Z)(s.useState(),2),c=r[0],A=r[1],_=(0,u.Z)(s.useState(),2),k=_[0],x=_[1],N=(0,u.Z)(s.useState(),2),w=N[0],E=N[1],T=(0,u.Z)(s.useState("0x0"),2),I=T[0],m=T[1],S=(0,u.Z)(s.useState(0),2),b=S[0],g=S[1],P=(0,u.Z)(s.useState(new Map),2),R=P[0],M=P[1],O=(0,u.Z)(s.useState(!1),2),Z=O[0],y=O[1];t&&t.on("chainChanged",(function(n){window&&window.location.reload()})),t&&t.on("accountsChanged",(function(n){n[0]!==w&&(w||k)&&W()}));var D=function(){var n=(0,o.Z)(i().mark((function n(){var e,r,o,u;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t&&C.SUPPORTED_CHAINS.includes(I)){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,e=C.CONTRACT_INFO[I],r=new f.Q(t),o=r.getSigner(),u=new d.CH(e.address,e.abi,o),x(u),o.getAddress().then((function(n){return n!==w&&E(n)})),n.abrupt("return",u);case 12:n.prev=12,n.t0=n.catch(2),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[2,12]])})));return function(){return n.apply(this,arguments)}}(),H=function(){var n=(0,o.Z)(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=k,n.t0){n.next=5;break}return n.next=4,D();case 4:n.t0=n.sent;case 5:return n.abrupt("return",n.t0);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),B=function(){var n=(0,o.Z)(i().mark((function n(){var e,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.request({method:"eth_requestAccounts"});case 2:(e=n.sent).length>0&&(r=e[0],E(r));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),W=function(){x(void 0),E(void 0)},Y=function(){if(C.SUPPORTED_CHAINS.includes(I)&&(!c||c.provider.network.chainId!==Number(I))){var n,e=C.CONTRACT_INFO[I];t?n=new f.Q(t):(n=h.yl(Number(I),{etherscan:p.env.REACT_APP_ETHERSCAN_API_KEY,infura:"-",alchemy:p.env.REACT_APP_ALCHEMY_API_KEY,pocket:"-",ankr:"-"}),n=new l.D(Number(I),p.env.REACT_APP_ALCHEMY_API_KEY));var r=new d.CH(e.address,e.abi,n);r.name().then((function(n){n===C.CONTRACT_NAME&&A(r)}))}},K={metamask:t,chainId:I,signer:w,contractConnection:c,getWriteConnection:H,clearWriteConnection:W,latestBlockNum:b,loadSigner:B,changeChainManually:function(n){m(n),W(),Y(),M(new Map)},tokenInfo:R,setTokenInfo:M,hasMinted:Z};return s.useEffect((function(){function n(){return(n=(0,o.Z)(i().mark((function n(){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.request({method:"eth_chainId"});case 2:e=n.sent,m(e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}t?function(){n.apply(this,arguments)}():m((0,C.getDefaultChainId)())}),[]),s.useEffect((function(){Y()}),[I]),s.useEffect((function(){c&&c.on("Transfer",(function(n,e,t,r){g(r.blockNumber)}))}),[c]),s.useEffect((function(){c&&w&&(console.log("Checking if minted before"),w&&c.totalMintedTo(w).then((function(n){y(n>0),console.log("minted: "+n)})))}),[c,w]),(0,a.jsx)(v.Provider,{value:K,children:e})}},3920:function(n,e,t){"use strict";t.r(e),t.d(e,{CHAIN_ID_TO_NAME:function(){return u},CONTRACT_INFO:function(){return a},CONTRACT_NAME:function(){return i},PARAGRAPH_SPACING:function(){return o},SUPPORTED_CHAINS:function(){return s},ZERO_ADDRESS:function(){return c},getDefaultChainId:function(){return f}});var r=t(8448),o=5,u={"0x0":"Not connected","0x1":"Ethereum","0x3":"Ropsten","0x4":"Rinkeby","0x5":"Goerli","0x2a":"Kovan"},c="0x0000000000000000000000000000000000000000",i="Pathfinder",a={"0x5":{address:"0xC00eBE404C500AD9134344c4d1b1f8b2f1CfAD33",abi:r.abi,openSeaLink:"https://testnets.opensea.io/collection/pathfinder"}},s=Object.keys(a),f=function(){return void 0!==a["0x1"]?"0x1":"0x5"}},6601:function(){}}]);